webpackJsonp([47],{KGb7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"IdeasAdd",components:{UE:i("VayU").a},data:function(){return{linkUrl:"",topicName:"",CataTopicList:"",selectCata:"",title:"",defaultMsg:"",ue2:"ue2",config2:{initialFrameWidth:null,initialFrameHeight:400,autoHeightEnabled:!1,autoFloatEnabled:!0,maximumWords:7e4,toolbars:[["Bold","Underline","JustifyLeft","JustifyCenter","JustifyRight","ForeColor","Undo","Redo","FontFamily","FontSize","InsertImage","Emotion","InsertVideo","Link","Map","Preview","inserttable","FullScreen"]],elementPathEnabled:!1},details:"",error:""}},methods:{submit:function(){var t=this,e={title:this.title,details:this.$refs.ue2.getContent(),topicCataId:this.selectCata,topicId:this.getUrl("topicId")};this.$axios.post("/api/admin/addTopicDetails",e).then(function(e){if(1e3==e.data.code)t.$message({message:"添加成功",type:"success"}),t.changeWin();else if(400==e.data.code)return t.dialog(e.data.msg),!1})},getCataTopicList:function(){var t=this;this.$axios.post("/api/admin/getCataTopicList",{topicId:this.getUrl("topicId")}).then(function(e){1e3==e.data.code?(t.CataTopicList=e.data.data,t.topicName=e.data.topicName):400==e.data.code&&t.dialog(e.data.msg)})},changeWin:function(){var t=this;this.linkUrl="",setTimeout(function(){t.linkUrl="/topicShow?hid=hid&&id="+t.getUrl("topicId")},500)}},mounted:function(){this.getCataTopicList(),this.changeWin()}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"IdeasAdd"},[i("div",{staticClass:"AddTopicDetails"},[i("div",{staticClass:"fillcontain"},[t._m(0),t._v(" "),i("div",{staticClass:"form"},[i("div",{staticClass:"headBox",staticStyle:{padding:"15px 0"}},[i("h3",{staticClass:"head-title",staticStyle:{display:"inline"}},[t._v("\n            分类："),i("b",[t._v(t._s(t.topicName))])]),t._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.selectCata,callback:function(e){t.selectCata=e},expression:"selectCata"}},t._l(t.CataTopicList,function(t,e){return i("el-option",{key:e,attrs:{label:t.cataName,value:t._id}})}))],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("el-input",{class:{"is-invalid":t.error.title},attrs:{type:"text",name:"title",placeholder:"标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),t.error.title?i("div",{staticClass:"invalid-feedback"},[t._v("\n            "+t._s(t.error.title)+"\n          ")]):t._e()],1),t._v(" "),i("div",{staticClass:"form-group"},[i("h3",{attrs:{for:"details"}},[t._v("详情")]),t._v(" "),i("UE",{ref:"ue2",attrs:{defaultMsg:t.defaultMsg,config:t.config2,id:t.ue2}}),t._v(" "),t.error.details?i("div",{staticClass:"invalid-feedback"},[t._v("\n            "+t._s(t.error.details)+"\n          ")]):t._e()],1),t._v(" "),i("p",{staticClass:"bk6"}),t._v(" "),i("button",{staticClass:"el-button el-button--primary",on:{click:t.submit}},[t._v("提交")])])]),t._v(" "),t.linkUrl?i("div",{staticClass:"topicDetails"},[i("iframe",{staticStyle:{border:"none"},attrs:{src:t.linkUrl,width:"90%",height:"100%"}})]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"crumbs"},[this._v("\n        当前位置："),e("span",{attrs:{id:"current_pos"}})])}]};var l=i("VU/8")(a,s,!1,function(t){i("ikR+")},"data-v-1f6ce6c2",null);e.default=l.exports},"ikR+":function(t,e){}});